<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="blogStyle.css">
    <title>实验一技术博客</title>
</head>
<body topmargin="0px" leftmargin="0px">
<div class = "BlogTopSection">
    <div id="blogTitle"> 实验二技术博客 </div>
</div>
<div class = "MainBody">
    <h2>第一题 DDL</h2>
    <h3>题目描述</h3>
    <pre>
    赶DDL是清华⼤学的优良传统(误)。TA想知道同学们是不是都按时提交了作业；同时TA还想知道延期的同学们具体延期了了多少天，据此计算出同学们作业的最终分数。请你编写⼀个JS函数来帮助TA完成这项⼯作。
        你需要实现⼀个函数 datetimeSort。这个函数接受两个参数，第⼀个参数为形如(yyyy-MM-dd HH:mm:ss)的datetime格式字符串（表示DDL的时间戳），第二个参数为datetime格式的字符串数组。 datetimeSort 函数返回一个数组，其中每个元素是⼀个对象，拥有两个字段：datetime字段是从输入中获取的提交时间datetime字符串，lateDays字段是超过DDL的天数。要求你对第二个参数组中的所有datetime进⾏升序排序，并且判断每个datetime是否超过了DDL，计算超过DDL的天数lateDays。如果没有超过DDL，则记为0。 你需要将结果按照排序的顺序组织成符合返回要求的数组作为函数的返回值。

    // 你需要补充的函数如下
    ﻿function datetimeSort(ddl, arr) {
    // add your code here!
    }



    请注意：
    在本道题中，所给出的DDL并不总是某⼀天的23:59:00
    函数的两个参数⼀定是datetime字符串和datetime字符串列表（列表可能具有任意长度）；参数内出现的所有datetime均合乎规则，你无需考虑异常输⼊情况。


    以下为一个输入样例:

    ddl='2018-05-05 11:22:33'
    arr=['2018-05-04 11:22:33', '2017-05-05 11:22:33', '2018-05-05 11:22:33','2018-05-06 11:22:32','2018-05-06 11:22:33']
    datetimeSort(ddl, arr)


    应当返回以下内容：

    [{"datetime":"2017-05-05 11:22:33","lateDays":0},{"datetime":"2018-05-04 11:22:33","lateDays":0},{"datetime":"2018-05-05 11:22:33","lateDays":0},{"datetime":"2018-05-06 11:22:32","lateDays":1},{"datetime":"2018-05-06 11:22:33","lateDays":2}]
    </pre>
    <h3>方法思路： </h3>
    <p>本题较为简单，由于输入的ddl和提交时间是标准格式，所以可以直接使用javascript时间戳来解析时间。</p>
    <p>    方法如下：let dateDdl = new Date(ddl);</p>
    <p>    直接使用两个时间戳相减：d1-d2,可以获得两个时间戳相差的毫秒数，然后转化为天，依据题目所述迟交时间的规则，可以获得延误天数。</p>
    <p>得到每一个时间的迟交时间后，可以使用js数组的sort函数将结果排序，注意排序时，应传入匿名函数，具体表示时间的比较规则</p>
    <h2>第二题 迭代器</h2>
    <h3>题目描述</h3>
    <pre>
问题背景
		同学都（应该）很熟悉面向对象程序设计（OOP）中的迭代器（Iterator）模式，通过迭代器可以对可迭代对象进行快速遍历。在本题中我们需要使用JavaScript实现一个简单的迭代器来掌握JavaScript类的使用。



问题描述
		请实现一个 TreeIterator 类，完成多叉树的先序遍历，对外提供迭代器接口。你的 TreeIterator 类的构造函数应接受一个参数，为可能取值 null 的 JavaScript 对象，表示多叉树的根节点。该值取 null 表示空树；非 null的每一个节点有 val 和 children 两个字段：val 的取值是一个整数，children是一个数组，其中依次包含了该节点的所有子节点。叶子节点的 children 为 [ ]。

		你的 TreeIterator 类应当实现 has_next 和 next_value 方法来使得评测程序对你的 TreeIterator 类能够正确调用。其中has_next 方法返回布尔类型，表示是否还有下一个元素，相当于 C++ 风格迭代器中end()的比较；next_value 方法返回下一个元素，相当于 C++ 风格迭代器中解引用、然后步进 1 个元素。值得注意的是 has_next 方法不应有副作用，也即连续多次调用 has_next 应与只调用一次等价。

		提示：ES6 的生成器（Generator）特性、yield 关键词可能对你有所帮助，可考虑使用。

输入
{
  val: 1,
  children: [
    {
      val: 2,
      children : []
    },
    {
    val: 3,
    children : [
      {
        val: 4,
        children : []
      }
      ]
    },
    {
    val: 5,
    children : []
    }
  ]}

/*以上数据结构表示的树如下图所示：﻿
  1 <- 根节点
/ | \
2 3 5
  |
  4
﻿*/


输出
[1,2,3,4,5]
    </pre>
    <h3>方法思路</h3>
    <p>本题考查树的先序遍历，由于只用实现has_next和next_value方法，所以可以使用递归的方法求出树的先序遍历，保存在一个数组中，然后在数组中实现迭代即可。</p>
    <h2>第三题 fmap</h2>
    <h3>题目描述</h3>
    <pre>
        问题背景
JavaScript的Array类提供了map函数，可以将传入的方法应用于数组中的每一个元素。

const array1 = [1, 4, 9, 16];
const map1 = array1.map(x => x * 2);﻿﻿ // pass a function to map
console.log(map1); // expected output: Array [2, 8, 18, 32]


问题描述
请实现一个fmap函数，该函数能够递归地进行处理数组中的数组元素，将传入的方法应用于其中的每一个原子元素上。fmap函数应该接受两个参数：第一个参数是一个函数方法f，f接受一个类型为int的参数并具有返回值；第二个参数是一个嵌套数组，所有原子元素类型都是int。你的fmap函数应该能够正确返回同样结构的数组，其中每一个原子元素都是原有原子元素传入f函数处理后的结果。



请注意：
传入的两个参数一定符合要求，即第一个参数是接受一个Int类型参数的函数，第二个参数是一个原子元素均为int的嵌套数组。无需考虑其他情况。

输入
fmap函数的第一个参数为函数：

function(i){
  return i*2;
}


第二个参数为：

[1,[2,3,[4]],[5,[6]],[]]

输出
[2,[4,6,[8]],[10,[12]],[]]
    </pre>
    <h3>方法思路</h3>
    <p>第三题较简单，由于嵌套数组本身就是递归定义，所以fmap可以用递归实现。具体来说，如果functor是数组，则return functor.map(x => fmap(f, x));
        如果functor是单个数字，则return f(functor)。</p>
    <p>通过如上方法，只需10行代码左右即可完成。</p>
    <h2>第四题 运算符</h2>
    <h3>题目描述</h3>
    <pre>
        请实现一个operatorDefinition函数，函数接受两个参数的输入，第一个参数是字符串表示的运算符定义语句，第二参数使用字符串表示的仅包含运算符&与括号的表达式，要求返回按照运算符定义所计算的表达式的字符串结果。



运算符定义语句规则：



运算符记为&
运算符是一个长度为3的字符串，其定义可能会使用到且仅可能会用到：
⼀个运算符：+、-、*、/ 四个运算符中的⼀个，它们全部是表示整数运算；
两个变量：x和y，x表示第一个参数，y表示第二个参数。


请注意：



给定的运算符定义规则与表达式符合给定规则且可计算，⽆需考虑异常情况（如：按照正常计算顺序则除以0的情况不会出现，无需考虑）
你的返回应该是一个字符串
请注意处理结果⾮整数的情况
OJ中不允许使用eval及相关函数，否则会Runtime Error


样例输入：



"y/x"

"4&((2&4)&43)"



样例输出：



"5"



样例说明：



给出的运算符定义为：x&y=y/x（并且是整除）
表达式计算过程：(43/(4/2))/4=(43/2)/4=21/4=5。


输入
运算符定义语句 与 仅包含运算符&与括号的表达式，具体见题目描述部分。

输出
计算结果（字符串形式）
    </pre>
    <h3>方法思路</h3>
    <p>第四题二选一，运算符比推箱子容易一些。</p>
    <p>首先解析定义式。通过switch语句以及定义式的第一、二个字符可以直接定义一个函数，实现定义式的功能。</p>
    <p>然后解析表达式。为了方便处理表达式超过一位的数字，首先将表达式解析成为一个数组，里面每一个元素是一个NUMBER或者是一个运算符。记这个数组为array</p>
    <p>由于表达式只有&和括号两种运算符，所以较简单。可以使用栈处理运算。具体来说，使用栈从左到右处理上面得到的数组array。</p>
    <p>在数组array中遇到NUMBER时，判断栈顶是否是NUMBER，如果是NUMBER则进行计算并将栈顶替换为运算后的元素。如果栈顶不是NUMBER（栈顶是括号），则将该NUMBER压栈。</p>
    <p>如果读数组遇到了左括号，则压栈。</p>
    <p>如果读数组遇到右括号，那么与之匹配的左括号已经在栈里了，并且栈里还有一个刚刚运算完的数字，将与有括号匹配的左括号弹出栈，
        并且将左右括号之间的数字重新压栈，并将这个数字进行计算。</p>
    <p>采用如上循环，只要表达式正确，最终栈里只剩下一个元素，表示最终结果，返回这个元素即可。</p>
</div>

<!--屏幕底部分-->
<div class = "ScreenLine"></div>
<div id = "bottomSection">
    <!--作者及版权-->
    <div id="bottomText"> Copyright © 2019 by Yang Fan </div>
</div>

</body>
</html>